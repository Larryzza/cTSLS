% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Simulate data.R
\name{simulate_iv_data}
\alias{simulate_iv_data}
\title{Simulate two‚Äêstage IV survival data}
\usage{
simulate_iv_data(
  n,
  scenario,
  c_rate,
  c_scale = 1,
  mu_cen = NULL,
  sd_cen = NULL,
  a0 = 0,
  a1 = c(0.5, 0.5),
  a2 = c(0.3, 0.3),
  b0 = 0,
  b1 = 1,
  b2 = c(0.5, 0.5),
  seed = NULL
)
}
\arguments{
\item{n}{Integer; sample size.}

\item{scenario}{Integer in 1:6; error scenario (passed to \code{generate_error_data}).}

\item{c_rate}{Numeric in (0,1); target censoring proportion.}

\item{c_scale}{Numeric; multiplies the SD of the censoring noise.}

\item{a0}{Numeric intercept in exposure model.}

\item{a1}{Numeric vector length-2; coefficients for \(G_1,G_2\).}

\item{a2}{Numeric vector length-2; coefficients for \(U_1,U_2\).}

\item{b0}{Numeric intercept in outcome model.}

\item{b1}{Numeric; coefficient on \(X\) in outcome model.}

\item{b2}{Numeric vector length-2; coefficients for \(U_1,U_2\) in outcome.}

\item{seed}{Optional integer; if set, passed to \code{set.seed()}.}
}
\value{
A tibble with columns
  \item{time}{Observed (possibly censored) time}
  \item{status}{Event indicator (1=event, 0=censored)}
  \item{X}{Endogenous exposure}
  \item{G1, G2}{Instruments}
  \item{U1, U2}{Observed confounders}
}
\description{
Generate a right-censored dataset with the following structure:
\itemize{
  \item Two instruments \eqn{G_1, G_2 \sim N(0, 0.8^2)}
  \item Two observed confounders \eqn{U_1, U_2 \sim N(0, 1)}
  \item Bivariate error \eqn{(e_1, e_2)} drawn from one of six specified scenarios
  \item Exposure: \eqn{X = a_0 + G a_1 + U a_2 + e_1}
  \item True event time: \eqn{Y = b_0 + b_1 X + U b_2 + e_2}
  \item Right-censoring time generated from a normal distribution, calibrated to match the desired censoring rate (\code{c_rate})
}
}
